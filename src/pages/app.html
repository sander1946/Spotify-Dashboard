<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- The meatadata for the PWA funtonality -->
    <link rel="manifest" href="/manifest.webmanifest" />
    <meta name="theme-color" content="#32d860" />
    <meta name="apple-mobile-web-app-status-bar" content="#32d860" />

    <!-- ios support -->
    <link rel="apple-touch-icon" href="/img/icons/icon-72x72.png" />
    <link rel="apple-touch-icon" href="/img/icons/icon-96x96.png" />
    <link rel="apple-touch-icon" href="/img/icons/icon-128x128.png" />
    <link rel="apple-touch-icon" href="/img/icons/icon-144x144.png" />
    <link rel="apple-touch-icon" href="/img/icons/icon-152x152.png" />
    <link rel="apple-touch-icon" href="/img/icons/icon-192x192.png" />
    <link rel="apple-touch-icon" href="/img/icons/icon-384x384.png" />
    <link rel="apple-touch-icon" href="/img/icons/icon-512x512.png" />
    
    <!-- Other Metadata -->
    <meta charset="UTF-8" />
    <meta name="application-name" content="Spotify-Dashboard" />
    <meta name="description" content="This is an Progressive Web App that simulates an spotify dashboard using the spotify web SDK and API" />
    <meta name="author" content="Sander1946" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="icon" href="/img/icons/favicon.ico" />
    <link rel="stylesheet" href="/css/app.css" />
    <title>Home</title>
  </head>
  <body>
    <main>

      <nav class="navbar">
        <h1>Spotify Dashboard</h1>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/search">Search</a></li>
          <li><a href="/playlists">Playlists</a></li>
          <li><a href="/settings">Settings</a></li>
        </ul>
      </nav>

      <div class="content">
        <!-- <h2>Welcome to the Spotify Dashboard</h2>
        <p>This is a Progressive Web App that simulates a Spotify dashboard using the Spotify Web SDK and API.</p>
        <p>Use the navigation menu to explore different sections of the app.</p>
        <p>Make sure to log in with your Spotify account to access all features.</p>
        <p>Enjoy your music!</p>

        <h1>Display your Spotify profile data</h1>

        <section id="profile">
          <h2>Logged in as <span id="displayName"></span></h2>
          <span id="avatar"></span>
          <ul>
              <li>User ID: <span id="id"></span></li>
              <li>Email: <span id="email"></span></li>
              <li>Spotify URI: <a id="uri" href="#"></a></li>
              <li>Link: <a id="url" href="#"></a></li>
              <li>Profile Image: <span id="imgUrl"></span></li>
          </ul>
        </section> -->

        <div id="main"></div>
        <div id="oauth"></div>

        <template id="login">
          <h1>Welcome to the OAuth2 PKCE Example</h1>
          <button id="login-button" data-bind-onclick="loginWithSpotifyClick();"> Log in with Spotify </button>
        </template>

        <template id="logged-in-template">
          <h1>Logged in as <span data-bind="display_name"></span></h1>
          <img width="150" data-bind-src="images[0].url" data-bind-alt="display_name" />
          <table>
            <tr>
              <td>Display name</td>
              <td data-bind="display_name"></td>
            </tr>
            <tr>
              <td>Id</td>
              <td data-bind="id"></td>
            </tr>
            <tr>
              <td>Email</td>
              <td data-bind="email"></td>
            </tr>
            <tr>
              <td>Spotify URI</td>
              <td>
                <a data-bind="external_urls.spotify" data-bind-href="external_urls.spotify"></a>
              </td>
            </tr>
            <tr>
              <td>Link </dt>
              <td>
                <a data-bind="href" data-bind-href="href"></a>
              </td>
            </tr>
            <tr>
              <td>Profile Image</td>
              <td>
                <a data-bind-href="images[0].url" data-bind="images[0].url"></a>
              </td>
            </tr>
            <tr>
              <td>Country</td>
              <td data-bind="country"></td>
            </tr>
          </table>

          <button id="refresh-token-button" data-bind-onclick="refreshTokenClick();">Refresh Token</button>
          <button id="logout-button" data-bind-onclick="logoutClick();">Log out</button>
        </template>

        <template id="oauth-template">
          <h2>oAuth info</h2>
          <table>
            <tr>
              <td>Access token</td>
              <td data-bind="access_token"></td>
            </tr>
            <tr>
              <td>Refresh token</td>
              <td data-bind="refresh_token"></td>
            </tr>
            <tr>
              <td>Expiration at</td>
              <td data-bind="expires">${getExpirationDate(expires_in)}</td>
            </tr>
          </table>
        </template>
      </div>

      <footer class="footer">

      </footer>

    </main>

    <script type="module" src="/js/app.js"></script>
  </body>
</html>
